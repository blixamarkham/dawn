{{"sectionhub-julia.scss.css" | asset_url | stylesheet_tag }}

<div id="sh-julia-{{ section.id }}" class="sh sh-container sh-julia-collection-carousel" style="{% unless section.settings.margin_top == blank %}margin-top: {{ section.settings.margin_top }}px;{% endunless %} {% unless section.settings.margin_bottom == blank %}margin-bottom: {{ section.settings.margin_bottom }}px;{% endunless %}">  
  {% unless section.settings.title == blank and section.settings.subtitle == blank %}
  <div class="sh-header">
    <div class="sh-row-full">
      <div class="sh-row-left">
        {% unless section.settings.title == blank %}
        <h2 class="sh-title">{{ section.settings.title | escape }}</h2>
        {% endunless %}
        {% unless section.settings.subtitle == blank %}
        <div class="sh-subtitle">{{ section.settings.subtitle | escape }}</div>
        {% endunless %}
      </div>
      <div class="sh-row-right">
        {% if section.settings.selected_collection != blank %}
        	<a href="{{ collections[section.settings.selected_collection].url }}" class="sh-button">{{ section.settings.view_all_string }}</a>
        {% endif %}
      </div>
    </div>
  </div>
  {% endunless %}
  <div class="sh-swiper-container"  data-slidesPerView="{{section.settings.slides_per_view}}" data-slidesPerView-md="{{section.settings.slides_per_view_md}}" data-slidesPerView-sm="{{section.settings.slides_per_view_sm}}" data-slidesPerView-xs="{{section.settings.slides_per_view_xs}}" data-spaceBetween="30" data-navigation="false">
    <div class="sh-swiper-wrapper">
      {% if section.settings.selected_collection == blank or collections[section.settings.selected_collection] == empty %}
        {% for product in collections['all'].products limit:section.settings.number_of_products %}
      	  <div class="sh-swiper-slide">
          	{% include 'sh-julia-product-card' %}
          </div>
        {% endfor %}
      {% else %}
        {% for product in collections[section.settings.selected_collection].products limit:section.settings.number_of_products %}
      	  <div class="sh-swiper-slide">
          	{% include 'sh-julia-product-card' %}
          </div>
        {% endfor %}
      {% endif %}
    </div>
    <div class="sh-swiper-pagination"></div>
  </div>
</div>

{% schema %}
  {
    "name": "Collection Carousel",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Featured products"
      },
	  {
        "type": "text",
        "id": "subtitle",
        "label": "Subheading"
      },
      {
        "type": "collection",
        "id": "selected_collection",
        "label": "Collection"
      },
	  {
        "type": "range",
        "id": "number_of_products",
        "label": "Number of products",
        "default": 10,
        "min": 2,
        "max": 12,
        "step": 1
      },
	  {
        "type": "range",
        "id": "slides_per_view",
        "label": "Slides per view",
        "default": 4,
        "min": 2,
        "max": 5,
        "step": 1
      },
	  {
        "type": "range",
        "id": "slides_per_view_md",
        "label": "Slides per view (middle device)",
        "default": 2,
        "min": 1,
        "max": 5,
        "step": 1
      },
	  {
        "type": "range",
        "id": "slides_per_view_sm",
        "label": "Slides per view (small device)",
        "default": 2,
        "min": 1,
        "max": 5,
        "step": 1
      },
	  {
        "type": "range",
        "id": "slides_per_view_xs",
        "label": "Slides per view (extra small device)",
        "default": 1,
        "min": 1,
        "max": 5,
        "step": 1
      },
      {
         "type": "text",
         "id": "image_size",
         "label": "Product size",
         "default": "270x370_crop_center",
         "info": "Set the image size: '600x600',\n '2048x',\n'original' or '370x370_crop_center'"
      },
      {
        "type": "checkbox",
        "id": "slider",
        "label": "Images slider",
        "default": true
      },
      {
		"type": "header",
		"content": "Strings"
	  },
      {
         "type": "text",
         "id": "view_all_string",
         "label": "View all string",
         "default": "View all"
      },
      {
         "type": "text",
         "id": "sold_out_string",
         "label": "Sold out string",
         "default": "Sold out"
      },
      {
         "type": "text",
         "id": "sale_string",
         "label": "Sale string",
         "default": "Sale"
      },
      {
         "type": "text",
         "id": "new_string",
         "label": "New string",
         "default": "New"
      },
      {
         "type": "text",
         "id": "select_options_string",
         "label": "Select options string",
         "default": "Select options"
      },
      {
         "type": "text",
         "id": "add_cart_string",
         "label": "Add cart string",
         "default": "Add to cart"
      },
      {
        "type": "text",
        "id": "margin_top",
        "label": "Margin top (px)"
      },
      {
        "type": "text",
        "id": "margin_bottom",
        "label": "Margin bottom (px)"
      } 
    ],
    "presets": [{
      "name": "Collection Carousel",
      "category": "SectionHub: Julia"
    }]
  }
{% endschema %}